(function(){"use strict";var n=window.location,o=window.document,a=o.currentScript,T=a.getAttribute("data-api")||x(a);function s(t){console.warn("Ignoring Event: "+t)}function x(t){return new URL(t.src).origin+"/api/event"}function f(t,e){if(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(n.hostname)||n.protocol==="file:")return s("localhost");if(window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)return;try{if(window.localStorage.vince_ignore==="true")return s("localStorage flag")}catch(E){}var r=a&&a.getAttribute("data-include"),u=a&&a.getAttribute("data-exclude");if(t==="pageview"){var p=!r||r&&r.split(",").some(k),R=u&&u.split(",").some(k);if(!p||R)return s("exclusion rule")}function k(E){var F=n.pathname;return F.match(new RegExp("^"+E.trim().replace(/\*\*/g,".*").replace(/([^\.])\*/g,"$1[^\\s/]*")+"/?$"))}var i={};i.n=t,i.u=n.href,i.d=a.getAttribute("data-domain"),i.r=o.referrer||null,i.w=window.innerWidth,e&&e.meta&&(i.m=JSON.stringify(e.meta)),e&&e.props&&(i.p=e.props);var l=new XMLHttpRequest;l.open("POST",T,!0),l.setRequestHeader("Content-Type","text/plain"),l.send(JSON.stringify(i)),l.onreadystatechange=function(){l.readyState===4&&e&&e.callback&&e.callback()}}var h=window.vince&&window.vince.q||[];window.vince=f;for(var d=0;d<h.length;d++)f.apply(this,h[d]);var w;function c(){w!==n.pathname&&(w=n.pathname,f("pageview"))}var g=window.history;if(g.pushState){var S=g.pushState;g.pushState=function(){S.apply(this,arguments),c()},window.addEventListener("popstate",c)}function C(){!w&&o.visibilityState==="visible"&&c()}o.visibilityState==="prerender"?o.addEventListener("visibilitychange",C):c();function A(t){for(;t&&(typeof t.tagName=="undefined"||!O(t)||!t.href);)t=t.parentNode;return t}function O(t){return t&&t.tagName&&t.tagName.toLowerCase()==="a"}function _(t,e){if(t.defaultPrevented)return!1;var r=!e.target||e.target.match(/^_(self|parent|top)$/i),u=!(t.ctrlKey||t.metaKey||t.shiftKey)&&t.type==="click";return r&&u}var N=1;function v(t){if(!(t.type==="auxclick"&&t.button!==N)){var e=A(t.target),r=e&&e.href&&e.href.split("?")[0];if($(e))return m(t,e,{name:"Outbound Link: Click",props:{url:e.href}});if(D(r))return m(t,e,{name:"File Download",props:{url:r}})}}function m(t,e,r){var u=!1;function p(){u||(u=!0,window.location=e.href)}_(t,e)?(vince(r.name,{props:r.props,callback:p}),setTimeout(p,5e3),t.preventDefault()):vince(r.name,{props:r.props})}o.addEventListener("click",v),o.addEventListener("auxclick",v);function $(t){return t&&t.href&&t.host&&t.host!==n.host}var y=["pdf","xlsx","docx","txt","rtf","csv","exe","key","pps","ppt","pptx","7z","pkg","rar","gz","zip","avi","mov","mp4","mpeg","wmv","midi","mp3","wav","wma"],b=a.getAttribute("file-types"),L=a.getAttribute("add-file-types"),q=b&&b.split(",")||L&&L.split(",").concat(y)||y;function D(t){if(!t)return!1;var e=t.split(".").pop();return q.some(function(r){return r===e})}})();
