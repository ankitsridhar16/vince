"use strict";(()=>{var B=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var i=(t,e)=>B(t,"name",{value:e,configurable:!0});var a=(t,e,o,n)=>{for(var r=n>1?void 0:n?Q(e,o):e,s=t.length-1,d;s>=0;s--)(d=t[s])&&(r=(n?d(e,o,r):d(r))||r);return n&&r&&B(e,o,r),r};var U=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var L=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var O=(t,e,o)=>(U(t,e,"access private method"),o);var C=new WeakSet;function H(t){C.add(t),t.shadowRoot&&$(t.shadowRoot),P(t),k(t.ownerDocument)}i(H,"bind");function $(t){P(t),k(t)}i($,"bindShadow");var x=new WeakMap;function k(t=document){if(x.has(t))return x.get(t);let e=!1,o=new MutationObserver(r=>{for(let s of r)if(s.type==="attributes"&&s.target instanceof Element)M(s.target);else if(s.type==="childList"&&s.addedNodes.length)for(let d of s.addedNodes)d instanceof Element&&P(d)});o.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-action"]});let n={get closed(){return e},unsubscribe(){e=!0,x.delete(t),o.disconnect()}};return x.set(t,n),n}i(k,"listenForBind");function P(t){for(let e of t.querySelectorAll("[data-action]"))M(e);t instanceof Element&&t.hasAttribute("data-action")&&M(t)}i(P,"bindElements");function X(t){let e=t.currentTarget;for(let o of F(e))if(t.type===o.type){let n=e.closest(o.tag);C.has(n)&&typeof n[o.method]=="function"&&n[o.method](t);let r=e.getRootNode();if(r instanceof ShadowRoot&&C.has(r.host)&&r.host.matches(o.tag)){let s=r.host;typeof s[o.method]=="function"&&s[o.method](t)}}}i(X,"handleEvent");function*F(t){for(let e of(t.getAttribute("data-action")||"").trim().split(/\s+/)){let o=e.lastIndexOf(":"),n=Math.max(0,e.lastIndexOf("#"))||e.length;yield{type:e.slice(0,o),tag:e.slice(o+1,n),method:e.slice(n+1)||"handleEvent"}}}i(F,"bindings");function M(t){for(let e of F(t))t.addEventListener(e.type,X)}i(M,"bindActions");var S=i(t=>String(typeof t=="symbol"?t.description:t).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),"dasherize"),_=i((t,e="property")=>{let o=S(t);if(!o.includes("-"))throw new DOMException(`${e}: ${String(t)} is not a valid ${e} name`,"SyntaxError");return o},"mustDasherize");function R(t){let e=S(t.name).replace(/-element$/,"");try{window.customElements.define(e,t),window[t.name]=customElements.get(e)}catch(o){if(!(o instanceof DOMException&&o.name==="NotSupportedError"))throw o}return t}i(R,"register");function z(t,e){let o=t.tagName.toLowerCase();if(t.shadowRoot){for(let n of t.shadowRoot.querySelectorAll(`[data-target~="${o}.${e}"]`))if(!n.closest(o))return n}for(let n of t.querySelectorAll(`[data-target~="${o}.${e}"]`))if(n.closest(o)===t)return n}i(z,"findTarget");function D(t,e){let o=t.tagName.toLowerCase(),n=[];if(t.shadowRoot)for(let r of t.shadowRoot.querySelectorAll(`[data-targets~="${o}.${e}"]`))r.closest(o)||n.push(r);for(let r of t.querySelectorAll(`[data-targets~="${o}.${e}"]`))r.closest(o)===t&&n.push(r);return n}i(D,"findTargets");function q(t){for(let e of t.querySelectorAll("template[data-shadowroot]"))e.parentElement===t&&t.attachShadow({mode:e.getAttribute("data-shadowroot")==="closed"?"closed":"open"}).append(e.content.cloneNode(!0))}i(q,"autoShadowRoot");var N="attr";function h(t,e){v(t,N).add(e)}i(h,"attr");var K=new WeakSet;function E(t,e){if(K.has(t))return;K.add(t);let o=Object.getPrototypeOf(t),n=o?.constructor?.attrPrefix??"data-";e||(e=v(o,N));for(let r of e){let s=t[r],d=_(`${n}${r}`),p={configurable:!0,get(){return this.getAttribute(d)||""},set(m){this.setAttribute(d,m||"")}};typeof s=="number"?p={configurable:!0,get(){return Number(this.getAttribute(d)||0)},set(m){this.setAttribute(d,m)}}:typeof s=="boolean"&&(p={configurable:!0,get(){return this.hasAttribute(d)},set(m){this.toggleAttribute(d,m)}}),Object.defineProperty(t,r,p),r in t&&!t.hasAttribute(d)&&p.set.call(t,s)}}i(E,"initializeAttrs");function I(t){let e=t.observedAttributes||[],o=t.attrPrefix??"data-",n=i(r=>_(`${o}${r}`),"attrToAttributeName");Object.defineProperty(t,"observedAttributes",{configurable:!0,get(){return[...v(t.prototype,N)].map(n).concat(e)},set(r){e=r}})}i(I,"defineObservedAttributes");var T=Symbol.for("catalyst"),y=class{constructor(e){let o=this,n=e.prototype.connectedCallback;e.prototype.connectedCallback=function(){o.connectedCallback(this,n)};let r=e.prototype.disconnectedCallback;e.prototype.disconnectedCallback=function(){o.disconnectedCallback(this,r)};let s=e.prototype.attributeChangedCallback;e.prototype.attributeChangedCallback=function(p,m,J){o.attributeChangedCallback(this,p,m,J,s)};let d=e.observedAttributes||[];Object.defineProperty(e,"observedAttributes",{configurable:!0,get(){return o.observedAttributes(this,d)},set(p){d=p}}),I(e),R(e)}observedAttributes(e,o){return o}connectedCallback(e,o){e.toggleAttribute("data-catalyst",!0),customElements.upgrade(e),q(e),E(e),H(e),o?.call(e),e.shadowRoot&&$(e.shadowRoot)}disconnectedCallback(e,o){o?.call(e)}attributeChangedCallback(e,o,n,r,s){E(e),o!=="data-catalyst"&&s&&s.call(e,o,n,r)}};i(y,"CatalystDelegate");function v(t,e){if(!Object.prototype.hasOwnProperty.call(t,T)){let n=t[T],r=t[T]=new Map;if(n)for(let[s,d]of n)r.set(s,new Set(d))}let o=t[T];return o.has(e)||o.set(e,new Set),o.get(e)}i(v,"meta");function l(t,e){v(t,"target").add(e),Object.defineProperty(t,e,{configurable:!0,get(){return z(this,e)}})}i(l,"target");function w(t,e){v(t,"targets").add(e),Object.defineProperty(t,e,{configurable:!0,get(){return D(this,e)}})}i(w,"targets");function g(t){new y(t)}i(g,"controller");var Ct=new Promise(t=>{document.readyState!=="loading"?t():document.addEventListener("readystatechange",()=>t(),{once:!0})}),Mt=new Promise(t=>{let e=new AbortController;e.signal.addEventListener("abort",()=>t());let o={once:!0,passive:!0,signal:e.signal},n=i(()=>e.abort(),"handler");document.addEventListener("mousedown",n,o),document.addEventListener("touchstart",n,o),document.addEventListener("keydown",n,o),document.addEventListener("pointerdown",n,o)});var W,Y,f=class extends HTMLElement{constructor(){super(...arguments);L(this,W)}connectedCallback(){}changePeriod(o){var d;let n=o.target;this.periods.forEach(p=>{var m;(m=p.querySelector(".select-menu-item-icon"))==null||m.classList.add("d-none")});let r=n.parentElement;(d=r==null?void 0:r.querySelector(".select-menu-item-icon"))==null||d.classList.remove("d-none");let s=r==null?void 0:r.dataset;this.period_label.innerText=s==null?void 0:s.name,this.period_range_from_label.innerText=s==null?void 0:s.fromLabel,this.period_range_to_label.innerText=s==null?void 0:s.toLabel}changeMetrics(o){let n=o.target;this.metrics.forEach(s=>{var d;(d=s.parentElement)==null||d.classList.remove("navigation-focus")});let r=n.parentElement;r==null||r.classList.add("navigation-focus")}changeProps(o){let n=o.target;this.props.forEach(r=>{r.classList.remove("activeProps"),r.classList.add("border-0")}),n.classList.add("activeProps"),n.classList.remove("border-0")}};i(f,"VinceStatsElement"),W=new WeakSet,Y=i(function(o){let n=Math.floor(Math.log10(Math.abs(o)));if(n<=2)return o.toString();let r=Math.floor(n/3),s=Math.pow(10,n-r*3)*+(o/Math.pow(10,n)).toFixed(1);return Math.round(s*100)/100+" "+["","K","M","B","T"][r]},"#shortNumber"),a([w],f.prototype,"periods",2),a([l],f.prototype,"period_label",2),a([l],f.prototype,"period_range_from_label",2),a([l],f.prototype,"period_range_to_label",2),a([w],f.prototype,"metrics",2),a([w],f.prototype,"props",2),f=a([g],f);window.customElements.get("vince-stats")||(window.VinceStatsElement=f,window.customElements.define("vince-stats",f));var A,Z,b=class extends HTMLElement{constructor(){super(...arguments);L(this,A)}send(o){o.preventDefault(),o.stopImmediatePropagation();let n=document.createElement("form"),r=document.createElement("input");n.method=this.link.dataset.method,n.action=this.link.dataset.to,n.style.display="hidden",n.appendChild(O(this,A,Z).call(this,"_csrf",this.link.dataset.csrf)),document.body.appendChild(n),r.type="submit",n.appendChild(r),console.log(n),r.click()}};i(b,"SendFormElement"),A=new WeakSet,Z=i(function(o,n){var r=document.createElement("input");return r.type="hidden",r.name=o,r.value=n,r},"#buildHiddenInput"),a([l],b.prototype,"link",2),b=a([g],b);window.customElements.get("send-form")||(window.SendFormElement=b,window.customElements.define("send-form",b));var u=class extends HTMLElement{selectEvent(o){this.event.classList.add("propertySelected"),this.path.classList.remove("propertySelected"),this.event_fields.classList.remove("d-none"),this.path_fields.classList.add("d-none")}selectPath(o){this.path.classList.add("propertySelected"),this.event.classList.remove("propertySelected"),this.event_fields.classList.add("d-none"),this.path_fields.classList.remove("d-none")}};i(u,"GoalSelectionElement"),a([l],u.prototype,"event",2),a([l],u.prototype,"event_fields",2),a([l],u.prototype,"path",2),a([l],u.prototype,"path_fields",2),u=a([g],u);window.customElements.get("goal-selection")||(window.GoalSelectionElement=u,window.customElements.define("goal-selection",u));var c=class extends HTMLElement{constructor(){super(...arguments);this.visitors=0;this.views=0;this.events=0;this.visits=0;this.bounceRates=0;this.visitDurations=0;this.viewsPerVisits=0}attributeChangedCallback(){this.visitor&&(this.visitor.textContent=`${this.visitors}`),this.view&&(this.view.textContent=`${this.views}`),this.event&&(this.event.textContent=`${this.events}`),this.visit&&(this.visit.textContent=`${this.visits}`),this.bounceRate&&(this.bounceRate.textContent=`${this.bounceRates}`),this.visitDuration&&(this.visitDuration.textContent=`${this.visitDurations}`),this.viewsPerVisit&&(this.viewsPerVisit.textContent=`${this.viewsPerVisits}`)}selectMetric(o){this.items.forEach(r=>{r.classList.remove("navigation-focus")});let n=o.target;n.classList.add("navigation-focus"),n.dispatchEvent(new CustomEvent("change"))}};i(c,"MetricValueElement"),a([h],c.prototype,"visitors",2),a([h],c.prototype,"views",2),a([h],c.prototype,"events",2),a([h],c.prototype,"visits",2),a([h],c.prototype,"bounceRates",2),a([h],c.prototype,"visitDurations",2),a([h],c.prototype,"viewsPerVisits",2),a([l],c.prototype,"visitor",2),a([l],c.prototype,"view",2),a([l],c.prototype,"event",2),a([l],c.prototype,"visit",2),a([l],c.prototype,"bounceRate",2),a([l],c.prototype,"visitDuration",2),a([l],c.prototype,"viewsPerVisit",2),a([w],c.prototype,"items",2),c=a([g],c);window.customElements.get("metric-value")||(window.MetricValueElement=c,window.customElements.define("metric-value",c));})();
