(function(){"use strict";var c=window.location,i=window.document,a=i.currentScript,y=a.getAttribute("data-api")||b(a);function g(n){console.warn("Ignoring Event: "+n)}function b(n){return new URL(n.src).origin+"/api/event"}function l(n,e){try{if(window.localStorage.vince_ignore==="true")return g("localStorage flag")}catch(p){}var o=a&&a.getAttribute("data-include"),w=a&&a.getAttribute("data-exclude");if(n==="pageview"){var S=!o||o&&o.split(",").some(f),E=w&&w.split(",").some(f);if(!S||E)return g("exclusion rule")}function f(p){var h=c.pathname;return h+=c.hash,h.match(new RegExp("^"+p.trim().replace(/\*\*/g,".*").replace(/([^\.])\*/g,"$1[^\\s/]*")+"/?$"))}var t={};t.n=n,t.u=c.href,t.d=a.getAttribute("data-domain"),t.r=i.referrer||null,t.w=window.innerWidth,e&&e.meta&&(t.m=JSON.stringify(e.meta)),e&&e.props&&(t.p=e.props),t.h=1;var r=new XMLHttpRequest;r.open("POST",y,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(t)),r.onreadystatechange=function(){r.readyState===4&&e&&e.callback&&e.callback()}}var v=window.vince&&window.vince.q||[];window.vince=l;for(var d=0;d<v.length;d++)l.apply(this,v[d]);var s;function u(){s=c.pathname,l("pageview")}window.addEventListener("hashchange",u);function m(){!s&&i.visibilityState==="visible"&&u()}i.visibilityState==="prerender"?i.addEventListener("visibilitychange",m):u()})();
