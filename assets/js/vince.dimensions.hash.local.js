(function(){"use strict";var v=window.location,n=window.document,i=n.currentScript,p=i.getAttribute("data-api")||h(i);function w(r){console.warn("Ignoring Event: "+r)}function h(r){return new URL(r.src).origin+"/api/event"}function u(r,t){try{if(window.localStorage.vince_ignore==="true")return w("localStorage flag")}catch(c){}var e={};e.n=r,e.u=v.href,e.d=i.getAttribute("data-domain"),e.r=n.referrer||null,e.w=window.innerWidth,t&&t.meta&&(e.m=JSON.stringify(t.meta)),t&&t.props&&(e.p=t.props);var b=i.getAttributeNames().filter(function(c){return c.substring(0,6)==="event-"}),d=e.p||{};b.forEach(function(c){var s=c.replace("event-",""),m=i.getAttribute(c);d[s]=d[s]||m}),e.p=d,e.h=1;var a=new XMLHttpRequest;a.open("POST",p,!0),a.setRequestHeader("Content-Type","text/plain"),a.send(JSON.stringify(e)),a.onreadystatechange=function(){a.readyState===4&&t&&t.callback&&t.callback()}}var f=window.vince&&window.vince.q||[];window.vince=u;for(var l=0;l<f.length;l++)u.apply(this,f[l]);var g;function o(){g=v.pathname,u("pageview")}window.addEventListener("hashchange",o);function y(){!g&&n.visibilityState==="visible"&&o()}n.visibilityState==="prerender"?n.addEventListener("visibilitychange",y):o()})();
