(function(){"use strict";var v=window.location,d=window.document,t=d.currentScript,w=t.getAttribute("data-api")||p(t);function g(n){console.warn("Ignoring Event: "+n)}function p(n){return new URL(n.src).origin+"/api/event"}function l(n,e){try{if(window.localStorage.vince_ignore==="true")return g("localStorage flag")}catch(i){}var r={};r.n=n,r.u=e&&e.u?e.u:v.href,r.d=t.getAttribute("data-domain"),r.r=d.referrer||null,r.w=window.innerWidth,e&&e.meta&&(r.m=JSON.stringify(e.meta)),e&&e.props&&(r.p=e.props);var s=t.getAttributeNames().filter(function(i){return i.substring(0,6)==="event-"}),u=r.p||{};s.forEach(function(i){var f=i.replace("event-",""),y=t.getAttribute(i);u[f]=u[f]||y}),r.p=u;var a=new XMLHttpRequest;a.open("POST",w,!0),a.setRequestHeader("Content-Type","text/plain"),a.send(JSON.stringify(r)),a.onreadystatechange=function(){a.readyState===4&&e&&e.callback&&e.callback()}}var o=window.vince&&window.vince.q||[];window.vince=l;for(var c=0;c<o.length;c++)l.apply(this,o[c])})();
