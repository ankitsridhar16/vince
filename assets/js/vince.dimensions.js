(function(){"use strict";var n=window.location,i=window.document,r=i.currentScript,h=r.getAttribute("data-api")||y(r);function v(a){console.warn("Ignoring Event: "+a)}function y(a){return new URL(a.src).origin+"/api/event"}function l(a,t){if(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(n.hostname)||n.protocol==="file:")return v("localhost");if(!(window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)){try{if(window.localStorage.vince_ignore==="true")return v("localStorage flag")}catch(u){}var e={};e.n=a,e.u=n.href,e.d=r.getAttribute("data-domain"),e.r=i.referrer||null,e.w=window.innerWidth,t&&t.meta&&(e.m=JSON.stringify(t.meta)),t&&t.props&&(e.p=t.props);var S=r.getAttributeNames().filter(function(u){return u.substring(0,6)==="event-"}),w=e.p||{};S.forEach(function(u){var g=u.replace("event-",""),E=r.getAttribute(u);w[g]=w[g]||E}),e.p=w;var o=new XMLHttpRequest;o.open("POST",h,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(JSON.stringify(e)),o.onreadystatechange=function(){o.readyState===4&&t&&t.callback&&t.callback()}}}var f=window.vince&&window.vince.q||[];window.vince=l;for(var s=0;s<f.length;s++)l.apply(this,f[s]);var d;function c(){d!==n.pathname&&(d=n.pathname,l("pageview"))}var p=window.history;if(p.pushState){var m=p.pushState;p.pushState=function(){m.apply(this,arguments),c()},window.addEventListener("popstate",c)}function b(){!d&&i.visibilityState==="visible"&&c()}i.visibilityState==="prerender"?i.addEventListener("visibilitychange",b):c()})();
